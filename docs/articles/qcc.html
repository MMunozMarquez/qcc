<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A quick tour of qcc • qcc</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="A quick tour of qcc">
<meta property="og:description" content="qcc">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">qcc</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/qcc.html">Vignette</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/luca-scr/qcc">
    <span class="fas fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="qcc_files/header-attrs-2.7/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>A quick tour of qcc</h1>
                        <h4 class="author">Luca Scrucca</h4>
            
            <h4 class="date">08 Apr 2021</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/luca-scr/qcc/blob/master/vignettes/qcc.Rmd"><code>vignettes/qcc.Rmd</code></a></small>
      <div class="hidden name"><code>qcc.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p><code>qcc</code> is a contributed R package for <strong>statistical quality control charts</strong> which provides:</p>
<ul>
<li>Shewhart quality control charts for continuous, attribute and count data</li>
<li>Cusum and EWMA charts</li>
<li>Operating characteristic curves</li>
<li>Process capability analysis</li>
<li>Pareto chart and cause-and-effect chart</li>
<li>Multivariate control charts.</li>
</ul>
<p>This document gives a quick tour of <code>qcc</code> (version 3.0) functionalities. Further details are provided in Scrucca (2004).</p>
<p>This vignette is written in R Markdown using the <a href="https://cran.r-project.org/package=knitr">knitr</a> package for production.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://luca-scr.github.io/qcc/">qcc</a></span><span class="op">)</span>
<span class="co">##   __ _  ___ ___ </span>
<span class="co">##  / _  |/ __/ __|  Quality Control Charts and </span>
<span class="co">## | (_| | (_| (__   Statistical Process Control</span>
<span class="co">##  \__  |\___\___|</span>
<span class="co">##     |_|           version 3.0</span>
<span class="co">## Type 'citation("qcc")' for citing this R package in publications.</span></code></pre></div>
</div>
<div id="shewhart-charts" class="section level1">
<h1 class="hasAnchor">
<a href="#shewhart-charts" class="anchor"></a>Shewhart charts</h1>
<div id="x-bar-chart" class="section level2">
<h2 class="hasAnchor">
<a href="#x-bar-chart" class="anchor"></a>x-bar chart</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">pistonrings</span><span class="op">)</span>
<span class="va">diameter</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/qccGroups.html">qccGroups</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">pistonrings</span>, <span class="va">diameter</span>, <span class="va">sample</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">diameter</span><span class="op">)</span>
<span class="co">##     [,1]   [,2]   [,3]   [,4]   [,5]</span>
<span class="co">## 1 74.030 74.002 74.019 73.992 74.008</span>
<span class="co">## 2 73.995 73.992 74.001 74.011 74.004</span>
<span class="co">## 3 73.988 74.024 74.021 74.005 74.002</span>
<span class="co">## 4 74.002 73.996 73.993 74.015 74.009</span>
<span class="co">## 5 73.992 74.007 74.015 73.989 74.014</span>
<span class="co">## 6 74.009 73.994 73.997 73.985 73.993</span>

<span class="op">(</span><span class="va">q1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">diameter</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>,<span class="op">]</span>, type <span class="op">=</span> <span class="st">"xbar"</span>, 
           newdata <span class="op">=</span> <span class="va">diameter</span><span class="op">[</span><span class="fl">26</span><span class="op">:</span><span class="fl">40</span>,<span class="op">]</span><span class="op">)</span><span class="op">)</span>
<span class="co">## ── Quality Control Chart ───────────────────────── </span>
<span class="co">## </span>
<span class="co">## Chart type                 = xbar </span>
<span class="co">## Data (phase I)             = diameter[1:25, ] </span>
<span class="co">## Number of groups           = 25 </span>
<span class="co">## Group sample size          = 5 </span>
<span class="co">## Center of group statistics = 74.00118 </span>
<span class="co">## Standard deviation         = 0.009785039 </span>
<span class="co">## </span>
<span class="co">## New data (phase II)        = diameter[26:40, ] </span>
<span class="co">## Number of groups           = 15 </span>
<span class="co">## Group sample size          = 5 </span>
<span class="co">## </span>
<span class="co">## Control limits at nsigmas  = 3 </span>
<span class="co">##       LCL     UCL</span>
<span class="co">##  73.98805 74.0143</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">q1</span>, fill <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-2-1.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">q1</span>, chart.all <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-2-2.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">q1</span>, add.stats <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-2-3.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">diameter</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>,<span class="op">]</span>, type <span class="op">=</span> <span class="st">"xbar"</span>, 
         newdata <span class="op">=</span> <span class="va">diameter</span><span class="op">[</span><span class="fl">26</span><span class="op">:</span><span class="fl">40</span>,<span class="op">]</span>, 
         confidence.level <span class="op">=</span> <span class="fl">0.99</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-2-4.png" width="90%" style="display: block; margin: auto;"></p>
<p>Western Electric rules:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">q1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">diameter</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>,<span class="op">]</span>, type <span class="op">=</span> <span class="st">"xbar"</span>, 
          newdata <span class="op">=</span> <span class="va">diameter</span><span class="op">[</span><span class="fl">26</span><span class="op">:</span><span class="fl">40</span>,<span class="op">]</span>, 
          rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">q1</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-3-1.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">q1</span>, fill <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-3-2.png" width="90%" style="display: block; margin: auto;"></p>
<p>In a Shewhart control chart the x-axis represents the <em>rationale subgroups</em>. This means that in the data collection process “subgroups or samples should be selected so that if assignable causes are present, the chance for differences between subgroups will be maximized, while the chance for differences due to these assignable causes within a subgroup will be minimized” (Montgomery, 2013, Sec. 5.3.4). Typically, for control charts used in production processes the time order of production is a logical basis for rational subgroups. In this case a user may want to represent the date of production along the x-axis.</p>
<p>For instance,</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="va">dates</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date</a></span><span class="op">(</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">diameter</span><span class="op">)</span><span class="op">+</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date</a></span><span class="op">(</span><span class="op">)</span>, by <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="co">##  [1] "2021-02-28" "2021-03-01" "2021-03-02" "2021-03-03" "2021-03-04"</span>
<span class="co">##  [6] "2021-03-05" "2021-03-06" "2021-03-07" "2021-03-08" "2021-03-09"</span>
<span class="co">## [11] "2021-03-10" "2021-03-11" "2021-03-12" "2021-03-13" "2021-03-14"</span>
<span class="co">## [16] "2021-03-15" "2021-03-16" "2021-03-17" "2021-03-18" "2021-03-19"</span>
<span class="co">## [21] "2021-03-20" "2021-03-21" "2021-03-22" "2021-03-23" "2021-03-24"</span>
<span class="co">## [26] "2021-03-25" "2021-03-26" "2021-03-27" "2021-03-28" "2021-03-29"</span>
<span class="co">## [31] "2021-03-30" "2021-03-31" "2021-04-01" "2021-04-02" "2021-04-03"</span>
<span class="co">## [36] "2021-04-04" "2021-04-05" "2021-04-06" "2021-04-07" "2021-04-08"</span>
<span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">diameter</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>,<span class="op">]</span>, type <span class="op">=</span> <span class="st">"xbar"</span>, newdata <span class="op">=</span> <span class="va">diameter</span><span class="op">[</span><span class="fl">26</span><span class="op">:</span><span class="fl">40</span>,<span class="op">]</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">q</span>, xtime <span class="op">=</span> <span class="va">dates</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-4-1.png" width="90%" style="display: block; margin: auto;"></p>
<p>Further fine-tuning is also available as shown in the example below:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">q</span>, xtime <span class="op">=</span> <span class="va">dates</span>, xlab <span class="op">=</span> <span class="cn">NULL</span>, add.stats <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">scale_x_date</span><span class="op">(</span>date_breaks <span class="op">=</span> <span class="st">"1 week"</span>, date_labels <span class="op">=</span> <span class="st">"%d-%b"</span><span class="op">)</span>
<span class="co">## Scale for 'x' is already present. Adding another scale for 'x', which will</span>
<span class="co">## replace the existing scale.</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-5-1.png" width="90%" style="display: block; margin: auto;"> Note than we must remove the summary statistics at bottom (<code>add.stats = FALSE</code>) in order to change the x-axis settings.</p>
</div>
<div id="r-chart" class="section level2">
<h2 class="hasAnchor">
<a href="#r-chart" class="anchor"></a>R chart</h2>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="va">q2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">diameter</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>,<span class="op">]</span>, type <span class="op">=</span> <span class="st">"R"</span><span class="op">)</span><span class="op">)</span>
<span class="co">## ── Quality Control Chart ───────────────────────── </span>
<span class="co">## </span>
<span class="co">## Chart type                 = R </span>
<span class="co">## Data (phase I)             = diameter[1:25, ] </span>
<span class="co">## Number of groups           = 25 </span>
<span class="co">## Group sample size          = 5 </span>
<span class="co">## Center of group statistics = 0.02276 </span>
<span class="co">## Standard deviation         = 0.009785039 </span>
<span class="co">## </span>
<span class="co">## Control limits at nsigmas  = 3 </span>
<span class="co">##  LCL        UCL</span>
<span class="co">##    0 0.04812533</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">q2</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-6-1.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="va">q3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">diameter</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>,<span class="op">]</span>, type <span class="op">=</span> <span class="st">"R"</span>, newdata <span class="op">=</span> <span class="va">diameter</span><span class="op">[</span><span class="fl">26</span><span class="op">:</span><span class="fl">40</span>,<span class="op">]</span><span class="op">)</span><span class="op">)</span>
<span class="co">## ── Quality Control Chart ───────────────────────── </span>
<span class="co">## </span>
<span class="co">## Chart type                 = R </span>
<span class="co">## Data (phase I)             = diameter[1:25, ] </span>
<span class="co">## Number of groups           = 25 </span>
<span class="co">## Group sample size          = 5 </span>
<span class="co">## Center of group statistics = 0.02276 </span>
<span class="co">## Standard deviation         = 0.009785039 </span>
<span class="co">## </span>
<span class="co">## New data (phase II)        = diameter[26:40, ] </span>
<span class="co">## Number of groups           = 15 </span>
<span class="co">## Group sample size          = 5 </span>
<span class="co">## </span>
<span class="co">## Control limits at nsigmas  = 3 </span>
<span class="co">##  LCL        UCL</span>
<span class="co">##    0 0.04812533</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">q3</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-6-2.png" width="90%" style="display: block; margin: auto;"></p>
</div>
<div id="s-chart" class="section level2">
<h2 class="hasAnchor">
<a href="#s-chart" class="anchor"></a>S chart</h2>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="va">q4</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">diameter</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>,<span class="op">]</span>, type <span class="op">=</span> <span class="st">"S"</span><span class="op">)</span><span class="op">)</span>
<span class="co">## ── Quality Control Chart ───────────────────────── </span>
<span class="co">## </span>
<span class="co">## Chart type                 = S </span>
<span class="co">## Data (phase I)             = diameter[1:25, ] </span>
<span class="co">## Number of groups           = 25 </span>
<span class="co">## Group sample size          = 5 </span>
<span class="co">## Center of group statistics = 0.009240037 </span>
<span class="co">## Standard deviation         = 0.009829977 </span>
<span class="co">## </span>
<span class="co">## Control limits at nsigmas  = 3 </span>
<span class="co">##  LCL        UCL</span>
<span class="co">##    0 0.01930242</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">q4</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-7-1.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="va">q5</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">diameter</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>,<span class="op">]</span>, type <span class="op">=</span> <span class="st">"S"</span>, newdata <span class="op">=</span> <span class="va">diameter</span><span class="op">[</span><span class="fl">26</span><span class="op">:</span><span class="fl">40</span>,<span class="op">]</span><span class="op">)</span><span class="op">)</span>
<span class="co">## ── Quality Control Chart ───────────────────────── </span>
<span class="co">## </span>
<span class="co">## Chart type                 = S </span>
<span class="co">## Data (phase I)             = diameter[1:25, ] </span>
<span class="co">## Number of groups           = 25 </span>
<span class="co">## Group sample size          = 5 </span>
<span class="co">## Center of group statistics = 0.009240037 </span>
<span class="co">## Standard deviation         = 0.009829977 </span>
<span class="co">## </span>
<span class="co">## New data (phase II)        = diameter[26:40, ] </span>
<span class="co">## Number of groups           = 15 </span>
<span class="co">## Group sample size          = 5 </span>
<span class="co">## </span>
<span class="co">## Control limits at nsigmas  = 3 </span>
<span class="co">##  LCL        UCL</span>
<span class="co">##    0 0.01930242</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">q5</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-7-2.png" width="90%" style="display: block; margin: auto;"></p>
</div>
<div id="variable-control-limits-in-control-charts" class="section level2">
<h2 class="hasAnchor">
<a href="#variable-control-limits-in-control-charts" class="anchor"></a>Variable control limits in control charts</h2>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">9</span>, <span class="fl">10</span>, <span class="fl">30</span>, <span class="fl">35</span>, <span class="fl">45</span>, <span class="fl">64</span>, <span class="fl">65</span>, <span class="fl">74</span>, <span class="fl">75</span>, <span class="fl">85</span>, <span class="fl">99</span>, <span class="fl">100</span><span class="op">)</span>
<span class="va">diameter2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/qccGroups.html">qccGroups</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">pistonrings</span><span class="op">[</span><span class="op">-</span><span class="va">out</span>,<span class="op">]</span>, <span class="va">diameter</span>, <span class="va">sample</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">diameter2</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>,<span class="op">]</span>, type <span class="op">=</span> <span class="st">"xbar"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-8-1.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">diameter2</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>,<span class="op">]</span>, type <span class="op">=</span> <span class="st">"R"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-8-2.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">diameter2</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>,<span class="op">]</span>, type <span class="op">=</span> <span class="st">"xbar"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">diameter2</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>,<span class="op">]</span>, type <span class="op">=</span> <span class="st">"xbar"</span>, newdata <span class="op">=</span> <span class="va">diameter2</span><span class="op">[</span><span class="fl">26</span><span class="op">:</span><span class="fl">40</span>,<span class="op">]</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-9-1.png" width="90%" style="display: block; margin: auto;"></p>
</div>
<div id="p-and-np-charts" class="section level2">
<h2 class="hasAnchor">
<a href="#p-and-np-charts" class="anchor"></a>p and np charts</h2>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">orangejuice</span><span class="op">)</span>
<span class="op">(</span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html">with</a></span><span class="op">(</span><span class="va">orangejuice</span>, <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">D</span><span class="op">[</span><span class="va">trial</span><span class="op">]</span>, sizes <span class="op">=</span> <span class="va">size</span><span class="op">[</span><span class="va">trial</span><span class="op">]</span>, type <span class="op">=</span> <span class="st">"p"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">## ── Quality Control Chart ───────────────────────── </span>
<span class="co">## </span>
<span class="co">## Chart type                 = p </span>
<span class="co">## Data (phase I)             = D[trial] </span>
<span class="co">## Number of groups           = 30 </span>
<span class="co">## Group sample size          = 50 </span>
<span class="co">## Center of group statistics = 0.2313333 </span>
<span class="co">## Standard deviation         = 0.421685 </span>
<span class="co">## </span>
<span class="co">## Control limits at nsigmas  = 3 </span>
<span class="co">##          LCL       UCL</span>
<span class="co">##   0.05242755 0.4102391</span>
<span class="co">##   0.05242755 0.4102391</span>
<span class="co">## :                     </span>
<span class="co">##   0.05242755 0.4102391</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-10-1.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html">with</a></span><span class="op">(</span><span class="va">orangejuice</span>, <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">D</span><span class="op">[</span><span class="va">trial</span><span class="op">]</span>, sizes <span class="op">=</span> <span class="va">size</span><span class="op">[</span><span class="va">trial</span><span class="op">]</span>, type <span class="op">=</span> <span class="st">"np"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">## ── Quality Control Chart ───────────────────────── </span>
<span class="co">## </span>
<span class="co">## Chart type                 = np </span>
<span class="co">## Data (phase I)             = D[trial] </span>
<span class="co">## Number of groups           = 30 </span>
<span class="co">## Group sample size          = 50 </span>
<span class="co">## Center of group statistics = 11.56667 </span>
<span class="co">## Standard deviation         = 2.981763 </span>
<span class="co">## </span>
<span class="co">## Control limits at nsigmas  = 3 </span>
<span class="co">##       LCL      UCL</span>
<span class="co">##  2.621377 20.51196</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-10-2.png" width="90%" style="display: block; margin: auto;"></p>
<p>Remove out-of-control points (see <code><a href="../reference/orangejuice.html">help(orangejuice)</a></code> for the reasons):</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">inc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sets.html">setdiff</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="va">orangejuice</span><span class="op">$</span><span class="va">trial</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">15</span>,<span class="fl">23</span><span class="op">)</span><span class="op">)</span>
<span class="op">(</span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html">with</a></span><span class="op">(</span><span class="va">orangejuice</span>, <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">D</span><span class="op">[</span><span class="va">inc</span><span class="op">]</span>, sizes <span class="op">=</span> <span class="va">size</span><span class="op">[</span><span class="va">inc</span><span class="op">]</span>, type <span class="op">=</span> <span class="st">"p"</span>,
                          newdata <span class="op">=</span> <span class="va">D</span><span class="op">[</span><span class="op">!</span><span class="va">trial</span><span class="op">]</span>, newsizes <span class="op">=</span> <span class="va">size</span><span class="op">[</span><span class="op">!</span><span class="va">trial</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">## ── Quality Control Chart ───────────────────────── </span>
<span class="co">## </span>
<span class="co">## Chart type                 = p </span>
<span class="co">## Data (phase I)             = D[inc] </span>
<span class="co">## Number of groups           = 28 </span>
<span class="co">## Group sample size          = 50 </span>
<span class="co">## Center of group statistics = 0.215 </span>
<span class="co">## Standard deviation         = 0.4108223 </span>
<span class="co">## </span>
<span class="co">## New data (phase II)        = D[!trial] </span>
<span class="co">## Number of groups           = 24 </span>
<span class="co">## Group sample size          = 50 </span>
<span class="co">## </span>
<span class="co">## Control limits at nsigmas  = 3 </span>
<span class="co">##          LCL       UCL</span>
<span class="co">##   0.04070284 0.3892972</span>
<span class="co">##   0.04070284 0.3892972</span>
<span class="co">## :                     </span>
<span class="co">##   0.04070284 0.3892972</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-11-1.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">orangejuice2</span><span class="op">)</span>
<span class="op">(</span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html">with</a></span><span class="op">(</span><span class="va">orangejuice2</span>, <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">D</span><span class="op">[</span><span class="va">trial</span><span class="op">]</span>, sizes <span class="op">=</span> <span class="va">size</span><span class="op">[</span><span class="va">trial</span><span class="op">]</span>, type <span class="op">=</span> <span class="st">"p"</span>, 
                            newdata <span class="op">=</span> <span class="va">D</span><span class="op">[</span><span class="op">!</span><span class="va">trial</span><span class="op">]</span>, newsizes <span class="op">=</span> <span class="va">size</span><span class="op">[</span><span class="op">!</span><span class="va">trial</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">## ── Quality Control Chart ───────────────────────── </span>
<span class="co">## </span>
<span class="co">## Chart type                 = p </span>
<span class="co">## Data (phase I)             = D[trial] </span>
<span class="co">## Number of groups           = 24 </span>
<span class="co">## Group sample size          = 50 </span>
<span class="co">## Center of group statistics = 0.1108333 </span>
<span class="co">## Standard deviation         = 0.3139256 </span>
<span class="co">## </span>
<span class="co">## New data (phase II)        = D[!trial] </span>
<span class="co">## Number of groups           = 40 </span>
<span class="co">## Group sample size          = 50 </span>
<span class="co">## </span>
<span class="co">## Control limits at nsigmas  = 3 </span>
<span class="co">##   LCL       UCL</span>
<span class="co">##     0 0.2440207</span>
<span class="co">##     0 0.2440207</span>
<span class="co">## :              </span>
<span class="co">##     0 0.2440207</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-12-1.png" width="90%" style="display: block; margin: auto;"></p>
</div>
<div id="c-and-u-charts" class="section level2">
<h2 class="hasAnchor">
<a href="#c-and-u-charts" class="anchor"></a>c and u charts</h2>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">circuit</span><span class="op">)</span>
<span class="op">(</span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html">with</a></span><span class="op">(</span><span class="va">circuit</span>, <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span><span class="op">[</span><span class="va">trial</span><span class="op">]</span>, sizes <span class="op">=</span> <span class="va">size</span><span class="op">[</span><span class="va">trial</span><span class="op">]</span>, type <span class="op">=</span> <span class="st">"c"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">## ── Quality Control Chart ───────────────────────── </span>
<span class="co">## </span>
<span class="co">## Chart type                 = c </span>
<span class="co">## Data (phase I)             = x[trial] </span>
<span class="co">## Number of groups           = 26 </span>
<span class="co">## Group sample size          = 100 </span>
<span class="co">## Center of group statistics = 19.84615 </span>
<span class="co">## Standard deviation         = 4.454902 </span>
<span class="co">## </span>
<span class="co">## Control limits at nsigmas  = 3 </span>
<span class="co">##       LCL      UCL</span>
<span class="co">##  6.481447 33.21086</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-13-1.png" width="90%" style="display: block; margin: auto;"></p>
<p>Remove out-of-control points (see <code><a href="../reference/circuit.html">help(circuit)</a></code> for the reasons)</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">inc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sets.html">setdiff</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="va">circuit</span><span class="op">$</span><span class="va">trial</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">6</span>,<span class="fl">20</span><span class="op">)</span><span class="op">)</span>
<span class="op">(</span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html">with</a></span><span class="op">(</span><span class="va">circuit</span>, <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span><span class="op">[</span><span class="va">inc</span><span class="op">]</span>, sizes <span class="op">=</span> <span class="va">size</span><span class="op">[</span><span class="va">inc</span><span class="op">]</span>, type <span class="op">=</span> <span class="st">"c"</span>, labels <span class="op">=</span> <span class="va">inc</span>, 
                       newdata <span class="op">=</span> <span class="va">x</span><span class="op">[</span><span class="op">!</span><span class="va">trial</span><span class="op">]</span>, newsizes <span class="op">=</span> <span class="va">size</span><span class="op">[</span><span class="op">!</span><span class="va">trial</span><span class="op">]</span>, 
                       newlabels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="op">!</span><span class="va">trial</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">## ── Quality Control Chart ───────────────────────── </span>
<span class="co">## </span>
<span class="co">## Chart type                 = c </span>
<span class="co">## Data (phase I)             = x[inc] </span>
<span class="co">## Number of groups           = 24 </span>
<span class="co">## Group sample size          = 100 </span>
<span class="co">## Center of group statistics = 19.66667 </span>
<span class="co">## Standard deviation         = 4.434712 </span>
<span class="co">## </span>
<span class="co">## New data (phase II)        = x[!trial] </span>
<span class="co">## Number of groups           = 20 </span>
<span class="co">## Group sample size          = 100 </span>
<span class="co">## </span>
<span class="co">## Control limits at nsigmas  = 3 </span>
<span class="co">##       LCL     UCL</span>
<span class="co">##  6.362532 32.9708</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-14-1.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="op">(</span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html">with</a></span><span class="op">(</span><span class="va">circuit</span>, <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span><span class="op">[</span><span class="va">inc</span><span class="op">]</span>, sizes <span class="op">=</span> <span class="va">size</span><span class="op">[</span><span class="va">inc</span><span class="op">]</span>, type <span class="op">=</span> <span class="st">"u"</span>, labels <span class="op">=</span> <span class="va">inc</span>, 
                       newdata <span class="op">=</span> <span class="va">x</span><span class="op">[</span><span class="op">!</span><span class="va">trial</span><span class="op">]</span>, newsizes <span class="op">=</span> <span class="va">size</span><span class="op">[</span><span class="op">!</span><span class="va">trial</span><span class="op">]</span>, 
                       newlabels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="op">!</span><span class="va">trial</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">## ── Quality Control Chart ───────────────────────── </span>
<span class="co">## </span>
<span class="co">## Chart type                 = u </span>
<span class="co">## Data (phase I)             = x[inc] </span>
<span class="co">## Number of groups           = 24 </span>
<span class="co">## Group sample size          = 100 </span>
<span class="co">## Center of group statistics = 0.1966667 </span>
<span class="co">## Standard deviation         = 0.4434712 </span>
<span class="co">## </span>
<span class="co">## New data (phase II)        = x[!trial] </span>
<span class="co">## Number of groups           = 20 </span>
<span class="co">## Group sample size          = 100 </span>
<span class="co">## </span>
<span class="co">## Control limits at nsigmas  = 3 </span>
<span class="co">##         LCL      UCL</span>
<span class="co">##  0.06362532 0.329708</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-14-2.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">pcmanufact</span><span class="op">)</span>
<span class="op">(</span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html">with</a></span><span class="op">(</span><span class="va">pcmanufact</span>, <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, sizes <span class="op">=</span> <span class="va">size</span>, type <span class="op">=</span> <span class="st">"u"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">## ── Quality Control Chart ───────────────────────── </span>
<span class="co">## </span>
<span class="co">## Chart type                 = u </span>
<span class="co">## Data (phase I)             = x </span>
<span class="co">## Number of groups           = 20 </span>
<span class="co">## Group sample size          = 5 </span>
<span class="co">## Center of group statistics = 1.93 </span>
<span class="co">## Standard deviation         = 1.389244 </span>
<span class="co">## </span>
<span class="co">## Control limits at nsigmas  = 3 </span>
<span class="co">##         LCL      UCL</span>
<span class="co">##  0.06613305 3.793867</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-15-1.png" width="90%" style="display: block; margin: auto;"></p>
</div>
<div id="continuous-one-at-time-data" class="section level2">
<h2 class="hasAnchor">
<a href="#continuous-one-at-time-data" class="anchor"></a>Continuous one-at-time data</h2>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">viscosity</span><span class="op">)</span>
<span class="op">(</span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html">with</a></span><span class="op">(</span><span class="va">viscosity</span>, <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">viscosity</span><span class="op">[</span><span class="va">trial</span><span class="op">]</span>, type <span class="op">=</span> <span class="st">"xbar.one"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">## ── Quality Control Chart ───────────────────────── </span>
<span class="co">## </span>
<span class="co">## Chart type                 = xbar.one </span>
<span class="co">## Data (phase I)             = viscosity[trial] </span>
<span class="co">## Number of groups           = 20 </span>
<span class="co">## Group sample size          = 1 </span>
<span class="co">## Center of group statistics = 34.088 </span>
<span class="co">## Standard deviation         = 0.5076521 </span>
<span class="co">## </span>
<span class="co">## Control limits at nsigmas  = 3 </span>
<span class="co">##       LCL      UCL</span>
<span class="co">##  32.56504 35.61096</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-16-1.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html">with</a></span><span class="op">(</span><span class="va">viscosity</span>, <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">viscosity</span><span class="op">[</span><span class="va">trial</span><span class="op">]</span>, type <span class="op">=</span> <span class="st">"xbar.one"</span>, std.dev <span class="op">=</span> <span class="st">"SD"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">## ── Quality Control Chart ───────────────────────── </span>
<span class="co">## </span>
<span class="co">## Chart type                 = xbar.one </span>
<span class="co">## Data (phase I)             = viscosity[trial] </span>
<span class="co">## Number of groups           = 20 </span>
<span class="co">## Group sample size          = 1 </span>
<span class="co">## Center of group statistics = 34.088 </span>
<span class="co">## Standard deviation         = 0.5769854 </span>
<span class="co">## </span>
<span class="co">## Control limits at nsigmas  = 3 </span>
<span class="co">##       LCL      UCL</span>
<span class="co">##  32.35704 35.81896</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-16-2.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># batch 4 is out-of-control because of a process temperature controller</span>
<span class="co"># failure; remove it and recompute</span>
<span class="va">viscosity</span> <span class="op">&lt;-</span> <span class="va">viscosity</span><span class="op">[</span><span class="op">-</span><span class="fl">4</span>,<span class="op">]</span>
<span class="op">(</span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html">with</a></span><span class="op">(</span><span class="va">viscosity</span>, <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">viscosity</span><span class="op">[</span><span class="va">trial</span><span class="op">]</span>, type <span class="op">=</span> <span class="st">"xbar.one"</span>, 
                         newdata <span class="op">=</span> <span class="va">viscosity</span><span class="op">[</span><span class="op">!</span><span class="va">trial</span><span class="op">]</span>,
                         rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">## ── Quality Control Chart ───────────────────────── </span>
<span class="co">## </span>
<span class="co">## Chart type                 = xbar.one </span>
<span class="co">## Data (phase I)             = viscosity[trial] </span>
<span class="co">## Number of groups           = 19 </span>
<span class="co">## Group sample size          = 1 </span>
<span class="co">## Center of group statistics = 33.98947 </span>
<span class="co">## Standard deviation         = 0.4117415 </span>
<span class="co">## </span>
<span class="co">## New data (phase II)        = viscosity[!trial] </span>
<span class="co">## Number of groups           = 15 </span>
<span class="co">## Group sample size          = 1 </span>
<span class="co">## </span>
<span class="co">## Control limits at nsigmas  = 3 </span>
<span class="co">##       LCL     UCL</span>
<span class="co">##  32.75425 35.2247</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-16-3.png" width="90%" style="display: block; margin: auto;"></p>
</div>
<div id="standardized-p-chart" class="section level2">
<h2 class="hasAnchor">
<a href="#standardized-p-chart" class="anchor"></a>Standardized p chart</h2>
<p>In this example we show how to extend the package by defining a new control chart, i.e. a standardized p chart (<code>type = "p.std"</code>).</p>
<p>Function to compute group statistics and center:</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">stats.p.std</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span>, <span class="va">sizes</span><span class="op">)</span>
<span class="op">{</span>
  <span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html">as.vector</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span>
  <span class="va">sizes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html">as.vector</a></span><span class="op">(</span><span class="va">sizes</span><span class="op">)</span>
  <span class="va">pbar</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">sizes</span><span class="op">)</span>
  <span class="va">z</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="va">data</span><span class="op">/</span><span class="va">sizes</span> <span class="op">-</span> <span class="va">pbar</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="va">pbar</span><span class="op">*</span><span class="op">(</span><span class="fl">1</span><span class="op">-</span><span class="va">pbar</span><span class="op">)</span><span class="op">/</span><span class="va">sizes</span><span class="op">)</span>
  <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>statistics <span class="op">=</span> <span class="va">z</span>, center <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<p>Function to compute within-group standard deviation:</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sd.p.std</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span>, <span class="va">sizes</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span> <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span> <span class="op">}</span></code></pre></div>
<p>Function to compute control limits based on normal approximation:</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">limits.p.std</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">center</span>, <span class="va">std.dev</span>, <span class="va">sizes</span>, <span class="va">nsigmas</span> <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">conf</span> <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>
<span class="op">{</span>
  <span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span><span class="op">(</span><span class="va">conf</span><span class="op">)</span><span class="op">)</span>
    <span class="op">{</span> <span class="va">lcl</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="va">nsigmas</span>
      <span class="va">ucl</span> <span class="op">&lt;-</span> <span class="op">+</span><span class="va">nsigmas</span>
  <span class="op">}</span> <span class="kw">else</span>
    <span class="op">{</span> <span class="kw">if</span><span class="op">(</span><span class="va">conf</span> <span class="op">&gt;</span> <span class="fl">0</span> <span class="op">&amp;</span> <span class="va">conf</span> <span class="op">&lt;</span> <span class="fl">1</span><span class="op">)</span>
        <span class="op">{</span> <span class="va">nsigmas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">qnorm</a></span><span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">conf</span><span class="op">)</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span>
          <span class="va">lcl</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="va">nsigmas</span>
          <span class="va">ucl</span> <span class="op">&lt;-</span> <span class="op">+</span><span class="va">nsigmas</span> <span class="op">}</span>
      <span class="kw">else</span> <span class="kw"><a href="https://rdrr.io/r/base/stop.html">stop</a></span><span class="op">(</span><span class="st">"invalid 'conf' argument."</span><span class="op">)</span> 
  <span class="op">}</span>
  <span class="va">limits</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">lcl</span>, <span class="va">ucl</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>
  <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span><span class="op">(</span><span class="va">limits</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="st">""</span>, length <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">limits</span><span class="op">)</span><span class="op">)</span>
  <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">limits</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"LCL"</span>, <span class="st">"UCL"</span><span class="op">)</span>
  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">limits</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<p>Example with simulated data:</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># set unequal sample sizes</span>
<span class="va">n</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">50</span>,<span class="fl">5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">100</span>,<span class="fl">5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">25</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span>
<span class="co"># generate randomly the number of successes</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span>, <span class="va">n</span>, <span class="fl">0.2</span><span class="op">)</span>
<span class="co"># plot the control chart with variable limits</span>
<span class="op">(</span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"p"</span>, size <span class="op">=</span> <span class="va">n</span><span class="op">)</span><span class="op">)</span>
<span class="co">## ── Quality Control Chart ───────────────────────── </span>
<span class="co">## </span>
<span class="co">## Chart type                 = p </span>
<span class="co">## Data (phase I)             = x </span>
<span class="co">## Number of groups           = 15 </span>
<span class="co">## Group sample sizes         =                  </span>
<span class="co">##   sizes  25 50 100</span>
<span class="co">##   counts  5  5   5</span>
<span class="co">## Center of group statistics = 0.2148571 </span>
<span class="co">## Standard deviation         = 0.4107232 </span>
<span class="co">## </span>
<span class="co">## Control limits at nsigmas  = 3 </span>
<span class="co">##          LCL       UCL</span>
<span class="co">##   0.04060204 0.3891122</span>
<span class="co">##   0.04060204 0.3891122</span>
<span class="co">## :                     </span>
<span class="co">##   0.00000000 0.4612911</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-20-1.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># plot the standardized control chart</span>
<span class="op">(</span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"p.std"</span>, size <span class="op">=</span> <span class="va">n</span><span class="op">)</span><span class="op">)</span>
<span class="co">## ── Quality Control Chart ───────────────────────── </span>
<span class="co">## </span>
<span class="co">## Chart type                 = p.std </span>
<span class="co">## Data (phase I)             = x </span>
<span class="co">## Number of groups           = 15 </span>
<span class="co">## Group sample sizes         =                  </span>
<span class="co">##   sizes  25 50 100</span>
<span class="co">##   counts  5  5   5</span>
<span class="co">## Center of group statistics = 0 </span>
<span class="co">## Standard deviation         = 1 </span>
<span class="co">## </span>
<span class="co">## Control limits at nsigmas  = 3 </span>
<span class="co">##  LCL UCL</span>
<span class="co">##   -3   3</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-20-2.png" width="90%" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="operating-characteristic-curves" class="section level1">
<h1 class="hasAnchor">
<a href="#operating-characteristic-curves" class="anchor"></a>Operating Characteristic Curves</h1>
<p>An operating characteristic curve graphically provides information about the probability of not detecting a shift in the process. The function <code><a href="../reference/ocCurves.html">ocCurves()</a></code> is a generic function which calls the proper function depending on the type of input <code>'qcc'</code> object.</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">pistonrings</span><span class="op">)</span>
<span class="va">diameter</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/qccGroups.html">qccGroups</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">pistonrings</span>, <span class="va">diameter</span>, <span class="va">sample</span><span class="op">)</span>
<span class="va">q</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">diameter</span>, type <span class="op">=</span> <span class="st">"xbar"</span>, nsigmas <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>
<span class="op">(</span><span class="va">beta</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ocCurves.html">ocCurves</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span><span class="op">)</span>
<span class="co">## ── Operating Characteristic Curves ─────────────── </span>
<span class="co">## </span>
<span class="co">## Chart type                 = xbar </span>
<span class="co">## Prob. type II error (beta) =</span>
<span class="co">##               sample size</span>
<span class="co">## shift (StdDev)      1      5     10     15     20</span>
<span class="co">##            0.0 0.9973 0.9973 0.9973 0.9973 0.9973</span>
<span class="co">##            0.1 0.9972 0.9966 0.9959 0.9952 0.9944</span>
<span class="co">##            0.2 0.9968 0.9944 0.9909 0.9869 0.9823</span>
<span class="co">##            :                                     </span>
<span class="co">##            4.9 0.0287 0.0000 0.0000 0.0000 0.0000</span>
<span class="co">##            5.0 0.0228 0.0000 0.0000 0.0000 0.0000</span>
<span class="co">## Average run length (ARL)   =</span>
<span class="co">##               sample size</span>
<span class="co">## shift (StdDev)   1   5  10  15  20</span>
<span class="co">##            0.0 370 370 370 370 370</span>
<span class="co">##            0.1 353 296 244 206 178</span>
<span class="co">##            0.2 308 178 110  76  57</span>
<span class="co">##            :                      </span>
<span class="co">##            4.9   1   1   1   1   1</span>
<span class="co">##            5.0   1   1   1   1   1</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">beta</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-21-1.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">beta</span>, what <span class="op">=</span> <span class="st">"ARL"</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-21-2.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">orangejuice</span><span class="op">)</span>
<span class="va">q</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html">with</a></span><span class="op">(</span><span class="va">orangejuice</span>, <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">D</span><span class="op">[</span><span class="va">trial</span><span class="op">]</span>, sizes <span class="op">=</span> <span class="va">size</span><span class="op">[</span><span class="va">trial</span><span class="op">]</span>, type <span class="op">=</span> <span class="st">"p"</span><span class="op">)</span><span class="op">)</span>
<span class="op">(</span><span class="va">beta</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ocCurves.html">ocCurves</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span><span class="op">)</span>
<span class="co">## ── Operating Characteristic Curves ─────────────── </span>
<span class="co">## </span>
<span class="co">## Chart type                 = p </span>
<span class="co">## Prob. type II error (beta) =</span>
<span class="co">##                       </span>
<span class="co">## fraction nonconforming   [,1]</span>
<span class="co">##                   0.00 0.0000</span>
<span class="co">##                   0.01 0.0894</span>
<span class="co">##                   0.02 0.2642</span>
<span class="co">##                   :          </span>
<span class="co">##                   0.99 0.0000</span>
<span class="co">##                   1.00 0.0000</span>
<span class="co">## Average run length (ARL)   =</span>
<span class="co">##                       </span>
<span class="co">## fraction nonconforming [,1]</span>
<span class="co">##                   0.00    1</span>
<span class="co">##                   0.01    1</span>
<span class="co">##                   0.02    1</span>
<span class="co">##                   :        </span>
<span class="co">##                   0.99    1</span>
<span class="co">##                   1.00    1</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">beta</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-21-3.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">beta</span>, what <span class="op">=</span> <span class="st">"ARL"</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-21-4.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">circuit</span><span class="op">)</span>
<span class="va">q</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html">with</a></span><span class="op">(</span><span class="va">circuit</span>, <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span><span class="op">[</span><span class="va">trial</span><span class="op">]</span>, sizes <span class="op">=</span> <span class="va">size</span><span class="op">[</span><span class="va">trial</span><span class="op">]</span>, type <span class="op">=</span> <span class="st">"c"</span><span class="op">)</span><span class="op">)</span>
<span class="op">(</span><span class="va">beta</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ocCurves.html">ocCurves</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span><span class="op">)</span>
<span class="co">## ── Operating Characteristic Curves ─────────────── </span>
<span class="co">## </span>
<span class="co">## Chart type                 = c </span>
<span class="co">## Prob. type II error (beta) =</span>
<span class="co">##         [,1]</span>
<span class="co">## 0.00  0.0000</span>
<span class="co">## 1.00  0.0006</span>
<span class="co">## 2.00  0.0166</span>
<span class="co">## :           </span>
<span class="co">## 64.00 0.0000</span>
<span class="co">## 65.00 0.0000</span>
<span class="co">## Average run length (ARL)   =</span>
<span class="co">##       [,1]</span>
<span class="co">## 0.00     1</span>
<span class="co">## 1.00     1</span>
<span class="co">## 2.00     1</span>
<span class="co">## :         </span>
<span class="co">## 64.00    1</span>
<span class="co">## 65.00    1</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">beta</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-21-5.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">beta</span>, what <span class="op">=</span> <span class="st">"ARL"</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-21-6.png" width="90%" style="display: block; margin: auto;"></p>
</div>
<div id="cusum-chart" class="section level1">
<h1 class="hasAnchor">
<a href="#cusum-chart" class="anchor"></a>Cusum chart</h1>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">pistonrings</span><span class="op">)</span>
<span class="va">diameter</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/qccGroups.html">qccGroups</a></span><span class="op">(</span><span class="va">diameter</span>, <span class="va">sample</span>, data <span class="op">=</span> <span class="va">pistonrings</span><span class="op">)</span>

<span class="op">(</span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="../reference/cusum.html">cusum</a></span><span class="op">(</span><span class="va">diameter</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>,<span class="op">]</span>, decision.interval <span class="op">=</span> <span class="fl">4</span>, se.shift <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="co">## ── Cusum Chart ─────────────────────────────────── </span>
<span class="co">## </span>
<span class="co">## Data (phase I)             = diameter[1:25, ] </span>
<span class="co">## Number of groups           = 25 </span>
<span class="co">## Group sample size          = 5 </span>
<span class="co">## Center of group statistics = 74.00118 </span>
<span class="co">## Standard deviation         = 0.009785039 </span>
<span class="co">## </span>
<span class="co">## Decision interval (StdErr) = 4 </span>
<span class="co">## Shift detection   (StdErr) = 1</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-22-1.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="op">(</span><span class="va">q</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cusum.html">cusum</a></span><span class="op">(</span><span class="va">diameter</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>,<span class="op">]</span>, newdata <span class="op">=</span> <span class="va">diameter</span><span class="op">[</span><span class="fl">26</span><span class="op">:</span><span class="fl">40</span>,<span class="op">]</span><span class="op">)</span><span class="op">)</span>
<span class="co">## ── Cusum Chart ─────────────────────────────────── </span>
<span class="co">## </span>
<span class="co">## Data (phase I)             = diameter[1:25, ] </span>
<span class="co">## Number of groups           = 25 </span>
<span class="co">## Group sample size          = 5 </span>
<span class="co">## Center of group statistics = 74.00118 </span>
<span class="co">## Standard deviation         = 0.009785039 </span>
<span class="co">## </span>
<span class="co">## New data (phase II)        = diameter[26:40, ] </span>
<span class="co">## Number of groups           = 15 </span>
<span class="co">## Group sample size          = 5 </span>
<span class="co">## </span>
<span class="co">## Decision interval (StdErr) = 5 </span>
<span class="co">## Shift detection   (StdErr) = 1</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-22-2.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">q</span>, chart.all <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-22-3.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">q</span>, xtime <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date</a></span><span class="op">(</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">diameter</span><span class="op">)</span><span class="op">+</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date</a></span><span class="op">(</span><span class="op">)</span>, by <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,
     add.stats <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">scale_x_date</span><span class="op">(</span>date_breaks <span class="op">=</span> <span class="st">"4 days"</span>, date_labels <span class="op">=</span> <span class="st">"%d-%b"</span><span class="op">)</span>
<span class="co">## Scale for 'x' is already present. Adding another scale for 'x', which will</span>
<span class="co">## replace the existing scale.</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-22-4.png" width="90%" style="display: block; margin: auto;"></p>
</div>
<div id="ewma" class="section level1">
<h1 class="hasAnchor">
<a href="#ewma" class="anchor"></a>EWMA</h1>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">pistonrings</span><span class="op">)</span>
<span class="va">diameter</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/qccGroups.html">qccGroups</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">pistonrings</span>, <span class="va">diameter</span>, <span class="va">sample</span><span class="op">)</span>

<span class="op">(</span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="../reference/ewma.html">ewma</a></span><span class="op">(</span><span class="va">diameter</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>,<span class="op">]</span>, lambda <span class="op">=</span> <span class="fl">0.2</span>, nsigmas <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span>
<span class="co">## ── EWMA Chart ──────────────────────────────────── </span>
<span class="co">## </span>
<span class="co">## Data (phase I)             = diameter[1:25, ] </span>
<span class="co">## Number of groups           = 25 </span>
<span class="co">## Group sample size          = 5 </span>
<span class="co">## Center of group statistics = 74.00118 </span>
<span class="co">## Standard deviation         = 0.009785039 </span>
<span class="co">## </span>
<span class="co">## Smoothing parameter        = 0.2 </span>
<span class="co">## Control limits at nsigmas  = 3 </span>
<span class="co">##         LCL      UCL</span>
<span class="co">## 1  73.99855 74.00380</span>
<span class="co">## 2  73.99781 74.00454</span>
<span class="co">## :                   </span>
<span class="co">## 25 73.99680 74.00555</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-23-1.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="op">(</span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="../reference/ewma.html">ewma</a></span><span class="op">(</span><span class="va">diameter</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>,<span class="op">]</span>, lambda <span class="op">=</span> <span class="fl">0.2</span>, nsigmas <span class="op">=</span> <span class="fl">2.7</span>, newdata <span class="op">=</span> <span class="va">diameter</span><span class="op">[</span><span class="fl">26</span><span class="op">:</span><span class="fl">40</span>,<span class="op">]</span><span class="op">)</span><span class="op">)</span>
<span class="co">## ── EWMA Chart ──────────────────────────────────── </span>
<span class="co">## </span>
<span class="co">## Data (phase I)             = diameter[1:25, ] </span>
<span class="co">## Number of groups           = 25 </span>
<span class="co">## Group sample size          = 5 </span>
<span class="co">## Center of group statistics = 74.00118 </span>
<span class="co">## Standard deviation         = 0.009785039 </span>
<span class="co">## </span>
<span class="co">## New data (phase II)        = diameter[26:40, ] </span>
<span class="co">## Number of groups           = 15 </span>
<span class="co">## Group sample size          = 5 </span>
<span class="co">## </span>
<span class="co">## Smoothing parameter        = 0.2 </span>
<span class="co">## Control limits at nsigmas  = 2.7 </span>
<span class="co">##         LCL      UCL</span>
<span class="co">## 1  73.99881 74.00354</span>
<span class="co">## 2  73.99815 74.00420</span>
<span class="co">## :                   </span>
<span class="co">## 40 73.99724 74.00511</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-23-2.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">q</span>, xtime <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date</a></span><span class="op">(</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">diameter</span><span class="op">)</span><span class="op">+</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date</a></span><span class="op">(</span><span class="op">)</span>, by <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,
     add.stats <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">scale_x_date</span><span class="op">(</span>date_breaks <span class="op">=</span> <span class="st">"4 days"</span>, date_labels <span class="op">=</span> <span class="st">"%d-%b"</span><span class="op">)</span>
<span class="co">## Scale for 'x' is already present. Adding another scale for 'x', which will</span>
<span class="co">## replace the existing scale.</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-23-3.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">viscosity</span><span class="op">)</span>
<span class="op">(</span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html">with</a></span><span class="op">(</span><span class="va">viscosity</span>, 
          <span class="fu"><a href="../reference/ewma.html">ewma</a></span><span class="op">(</span><span class="va">viscosity</span><span class="op">[</span><span class="va">trial</span><span class="op">]</span>, lambda <span class="op">=</span> <span class="fl">0.2</span>, nsigmas <span class="op">=</span> <span class="fl">2.7</span>,
               newdata <span class="op">=</span> <span class="va">viscosity</span><span class="op">[</span><span class="op">!</span><span class="va">trial</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">## ── EWMA Chart ──────────────────────────────────── </span>
<span class="co">## </span>
<span class="co">## Data (phase I)             = viscosity[trial] </span>
<span class="co">## Number of groups           = 20 </span>
<span class="co">## Group sample size          = 1 </span>
<span class="co">## Center of group statistics = 34.088 </span>
<span class="co">## Standard deviation         = 0.5076521 </span>
<span class="co">## </span>
<span class="co">## New data (phase II)        = viscosity[!trial] </span>
<span class="co">## Number of groups           = 15 </span>
<span class="co">## Group sample size          = 1 </span>
<span class="co">## </span>
<span class="co">## Smoothing parameter        = 0.2 </span>
<span class="co">## Control limits at nsigmas  = 2.7 </span>
<span class="co">##            LCL      UCL</span>
<span class="co">## [1,]  33.81387 34.36213</span>
<span class="co">## [2,]  33.73694 34.43906</span>
<span class="co">## :                      </span>
<span class="co">## [35,] 33.63111 34.54489</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-24-1.png" width="90%" style="display: block; margin: auto;"></p>
</div>
<div id="process-capability-analysis" class="section level1">
<h1 class="hasAnchor">
<a href="#process-capability-analysis" class="anchor"></a>Process capability analysis</h1>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">pistonrings</span><span class="op">)</span>
<span class="va">diameter</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/qccGroups.html">qccGroups</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">pistonrings</span>, <span class="va">diameter</span>, <span class="va">sample</span><span class="op">)</span>

<span class="va">q</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">diameter</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>,<span class="op">]</span>, type <span class="op">=</span> <span class="st">"xbar"</span>, nsigmas <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>

<span class="op">(</span><span class="va">pc</span> <span class="op">=</span> <span class="fu"><a href="../reference/processCapability.html">processCapability</a></span><span class="op">(</span><span class="va">q</span>, spec.limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">73.95</span>,<span class="fl">74.05</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">## ── Process Capability Analysis ─────────────────── </span>
<span class="co">## </span>
<span class="co">## Number of obs = 125          Target = 74      </span>
<span class="co">## Center        = 74.00118     LSL    = 73.95   </span>
<span class="co">## StdDev        = 0.009785039  USL    = 74.05   </span>
<span class="co">##                   </span>
<span class="co">## Capability indices  Value  2.5%  97.5%</span>
<span class="co">##               Cp     1.70  1.49   1.91</span>
<span class="co">##               Cp_l   1.74  1.55   1.93</span>
<span class="co">##               Cp_u   1.66  1.48   1.84</span>
<span class="co">##               Cp_k   1.66  1.45   1.88</span>
<span class="co">##               Cpm    1.69  1.48   1.90</span>
<span class="co">## </span>
<span class="co">## Exp&lt;LSL 0%    Obs&lt;LSL 0%</span>
<span class="co">## Exp&gt;USL 0%    Obs&gt;USL 0%</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">pc</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-25-1.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="op">(</span><span class="va">pc</span> <span class="op">=</span> <span class="fu"><a href="../reference/processCapability.html">processCapability</a></span><span class="op">(</span><span class="va">q</span>, spec.limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">73.95</span>,<span class="fl">74.05</span><span class="op">)</span>, target <span class="op">=</span> <span class="fl">74.02</span><span class="op">)</span><span class="op">)</span>
<span class="co">## ── Process Capability Analysis ─────────────────── </span>
<span class="co">## </span>
<span class="co">## Number of obs = 125          Target = 74.02   </span>
<span class="co">## Center        = 74.00118     LSL    = 73.95   </span>
<span class="co">## StdDev        = 0.009785039  USL    = 74.05   </span>
<span class="co">##                   </span>
<span class="co">## Capability indices  Value   2.5%  97.5%</span>
<span class="co">##               Cp    1.703  1.491  1.915</span>
<span class="co">##               Cp_l  1.743  1.555  1.932</span>
<span class="co">##               Cp_u  1.663  1.483  1.844</span>
<span class="co">##               Cp_k  1.663  1.448  1.878</span>
<span class="co">##               Cpm   0.786  0.656  0.915</span>
<span class="co">## </span>
<span class="co">## Exp&lt;LSL 0%    Obs&lt;LSL 0%</span>
<span class="co">## Exp&gt;USL 0%    Obs&gt;USL 0%</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">pc</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-25-2.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="op">(</span><span class="va">pc</span> <span class="op">=</span> <span class="fu"><a href="../reference/processCapability.html">processCapability</a></span><span class="op">(</span><span class="va">q</span>, spec.limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">73.99</span>,<span class="fl">74.01</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">## ── Process Capability Analysis ─────────────────── </span>
<span class="co">## </span>
<span class="co">## Number of obs = 125          Target = 74      </span>
<span class="co">## Center        = 74.00118     LSL    = 73.99   </span>
<span class="co">## StdDev        = 0.009785039  USL    = 74.01   </span>
<span class="co">##                   </span>
<span class="co">## Capability indices  Value   2.5%  97.5%</span>
<span class="co">##               Cp    0.341  0.298  0.383</span>
<span class="co">##               Cp_l  0.381  0.318  0.444</span>
<span class="co">##               Cp_u  0.301  0.242  0.359</span>
<span class="co">##               Cp_k  0.301  0.231  0.370</span>
<span class="co">##               Cpm   0.338  0.296  0.380</span>
<span class="co">## </span>
<span class="co">## Exp&lt;LSL 0.13%     Obs&lt;LSL 0.12%</span>
<span class="co">## Exp&gt;USL 0.18%     Obs&gt;USL 0.16%</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">pc</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-25-3.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb50"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="op">(</span><span class="va">pc</span> <span class="op">=</span> <span class="fu"><a href="../reference/processCapability.html">processCapability</a></span><span class="op">(</span><span class="va">q</span>, spec.limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">73.99</span>, <span class="fl">74.1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">## ── Process Capability Analysis ─────────────────── </span>
<span class="co">## </span>
<span class="co">## Number of obs = 125          Target = 74.045  </span>
<span class="co">## Center        = 74.00118     LSL    = 73.99   </span>
<span class="co">## StdDev        = 0.009785039  USL    = 74.1    </span>
<span class="co">##                   </span>
<span class="co">## Capability indices  Value   2.5%  97.5%</span>
<span class="co">##               Cp    1.874  1.641  2.106</span>
<span class="co">##               Cp_l  0.381  0.318  0.444</span>
<span class="co">##               Cp_u  3.367  3.011  3.722</span>
<span class="co">##               Cp_k  0.381  0.305  0.456</span>
<span class="co">##               Cpm   0.408  0.338  0.479</span>
<span class="co">## </span>
<span class="co">## Exp&lt;LSL 0.13%     Obs&lt;LSL 0.12%</span>
<span class="co">## Exp&gt;USL 0%    Obs&gt;USL 0%</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">pc</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-25-4.png" width="90%" style="display: block; margin: auto;"></p>
</div>
<div id="multivariate-quality-control-charts" class="section level1">
<h1 class="hasAnchor">
<a href="#multivariate-quality-control-charts" class="anchor"></a>Multivariate Quality Control Charts</h1>
<p>Multivariate subgrouped data from Ryan (2011, Table 9.2) with <span class="math inline">\(p = 2\)</span> variables, <span class="math inline">\(m = 20\)</span> samples, and <span class="math inline">\(n = 4\)</span> sample size for each sample:</p>
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">RyanMultivar</span><span class="op">)</span>
<span class="op">(</span><span class="va">q</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mqcc.html">mqcc</a></span><span class="op">(</span><span class="va">RyanMultivar</span>, type <span class="op">=</span> <span class="st">"T2"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-26-1.png" width="90%" style="display: block; margin: auto;"></p>
<pre><code><a href="../reference/ellipseChart.html">## ── Multivariate Quality Control Chart ──────────── 
## 
## Chart type                 = T2 
## Data (phase I)             = RyanMultivar 
## Number of groups           = 20 
## Group sample size          = 4 
## Center = 
##      X1      X2 
## 60.3750 18.4875 
## Covariance matrix = 
##          X1        X2
## X1 222.0333 103.11667
## X2 103.1167  56.57917
## |S| = 1929.414 
## 
## Control limits:
##  LCL      UCL
##    0 11.03976

ellipseChart(q)</a></code></pre>
<p><img src="qcc_files/figure-html/unnamed-chunk-26-2.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu"><a href="../reference/ellipseChart.html">ellipseChart</a></span><span class="op">(</span><span class="va">q</span>, show.id <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-26-3.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb54"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">q</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mqcc.html">mqcc</a></span><span class="op">(</span><span class="va">RyanMultivar</span>, type <span class="op">=</span> <span class="st">"T2"</span>, pred.limits <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-26-4.png" width="90%" style="display: block; margin: auto;"></p>
<p>Ryan (2011) discussed Xbar-charts for single variables computed adjusting the confidence level of the <span class="math inline">\(T^2\)</span> chart:</p>
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/with.html">with</a></span><span class="op">(</span><span class="va">RyanMultivar</span>, 
     <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">X1</span>, type <span class="op">=</span> <span class="st">"xbar"</span>, confidence.level <span class="op">=</span> <span class="va">q</span><span class="op">$</span><span class="va">confidence.level</span><span class="op">^</span><span class="op">(</span><span class="fl">1</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">## ── Quality Control Chart ───────────────────────── </span>
<span class="co">## </span>
<span class="co">## Chart type                 = xbar </span>
<span class="co">## Data (phase I)             = X1 </span>
<span class="co">## Number of groups           = 20 </span>
<span class="co">## Group sample size          = 4 </span>
<span class="co">## Center of group statistics = 60.375 </span>
<span class="co">## Standard deviation         = 14.93443 </span>
<span class="co">## </span>
<span class="co">## Control limits at nsigmas  = 2.999977 </span>
<span class="co">##       LCL      UCL</span>
<span class="co">##  37.97352 82.77648</span>

<span class="fu"><a href="https://rdrr.io/r/base/with.html">with</a></span><span class="op">(</span><span class="va">RyanMultivar</span>, 
     <span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">X2</span>, type <span class="op">=</span> <span class="st">"xbar"</span>, confidence.level <span class="op">=</span> <span class="va">q</span><span class="op">$</span><span class="va">confidence.level</span><span class="op">^</span><span class="op">(</span><span class="fl">1</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">## ── Quality Control Chart ───────────────────────── </span>
<span class="co">## </span>
<span class="co">## Chart type                 = xbar </span>
<span class="co">## Data (phase I)             = X2 </span>
<span class="co">## Number of groups           = 20 </span>
<span class="co">## Group sample size          = 4 </span>
<span class="co">## Center of group statistics = 18.4875 </span>
<span class="co">## Standard deviation         = 7.139388 </span>
<span class="co">## </span>
<span class="co">## Control limits at nsigmas  = 2.999977 </span>
<span class="co">##     LCL     UCL</span>
<span class="co">##  7.7785 29.1965</span></code></pre></div>
<p>Generate new “in control” data:</p>
<div class="sourceCode" id="cb56"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">Xnew</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>X1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">10</span>, <span class="fl">4</span><span class="op">)</span>, X2 <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">10</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span>
<span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span>
   <span class="op">{</span> <span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">MASS</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/MASS/man/mvrnorm.html">mvrnorm</a></span><span class="op">(</span><span class="fl">10</span>, mu <span class="op">=</span> <span class="va">q</span><span class="op">$</span><span class="va">center</span>, Sigma <span class="op">=</span> <span class="va">q</span><span class="op">$</span><span class="va">cov</span><span class="op">)</span>
     <span class="va">Xnew</span><span class="op">$</span><span class="va">X1</span><span class="op">[</span>,<span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span>
     <span class="va">Xnew</span><span class="op">$</span><span class="va">X2</span><span class="op">[</span>,<span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span> 
   <span class="op">}</span>
<span class="op">(</span><span class="va">q</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mqcc.html">mqcc</a></span><span class="op">(</span><span class="va">RyanMultivar</span>, type <span class="op">=</span> <span class="st">"T2"</span>, newdata <span class="op">=</span> <span class="va">Xnew</span>, pred.limits <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-28-1.png" width="90%" style="display: block; margin: auto;"></p>
<pre><code><a href="../reference/ellipseChart.html">## ── Multivariate Quality Control Chart ──────────── 
## 
## Chart type                 = T2 
## Data (phase I)             = RyanMultivar 
## Number of groups           = 20 
## Group sample size          = 4 
## Center = 
##      X1      X2 
## 60.3750 18.4875 
## Covariance matrix = 
##          X1        X2
## X1 222.0333 103.11667
## X2 103.1167  56.57917
## |S| = 1929.414 
## 
## New data (phase II)        = Xnew 
## Number of groups           = 10 
## Group sample size          = 4 
## 
## Control limits:
##  LCL      UCL
##    0 11.03976
## 
## Prediction limits:
##  LPL      UPL
##    0 12.20184
ellipseChart(q, show.id = TRUE)</a></code></pre>
<p><img src="qcc_files/figure-html/unnamed-chunk-28-2.png" width="90%" style="display: block; margin: auto;"></p>
<p>Generate new “out of control” data:</p>
<div class="sourceCode" id="cb58"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">Xnew</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>X1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">10</span>, <span class="fl">4</span><span class="op">)</span>, X2 <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">10</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span>
<span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span>
   <span class="op">{</span> <span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">MASS</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/MASS/man/mvrnorm.html">mvrnorm</a></span><span class="op">(</span><span class="fl">10</span>, mu <span class="op">=</span> <span class="fl">1.2</span><span class="op">*</span><span class="va">q</span><span class="op">$</span><span class="va">center</span>, Sigma <span class="op">=</span> <span class="va">q</span><span class="op">$</span><span class="va">cov</span><span class="op">)</span>
     <span class="va">Xnew</span><span class="op">$</span><span class="va">X1</span><span class="op">[</span>,<span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span>
     <span class="va">Xnew</span><span class="op">$</span><span class="va">X2</span><span class="op">[</span>,<span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span> 
   <span class="op">}</span>
<span class="op">(</span><span class="va">q</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mqcc.html">mqcc</a></span><span class="op">(</span><span class="va">RyanMultivar</span>, type <span class="op">=</span> <span class="st">"T2"</span>, newdata <span class="op">=</span> <span class="va">Xnew</span>, pred.limits <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-29-1.png" width="90%" style="display: block; margin: auto;"></p>
<pre><code><a href="../reference/ellipseChart.html">## ── Multivariate Quality Control Chart ──────────── 
## 
## Chart type                 = T2 
## Data (phase I)             = RyanMultivar 
## Number of groups           = 20 
## Group sample size          = 4 
## Center = 
##      X1      X2 
## 60.3750 18.4875 
## Covariance matrix = 
##          X1        X2
## X1 222.0333 103.11667
## X2 103.1167  56.57917
## |S| = 1929.414 
## 
## New data (phase II)        = Xnew 
## Number of groups           = 10 
## Group sample size          = 4 
## 
## Control limits:
##  LCL      UCL
##    0 11.03976
## 
## Prediction limits:
##  LPL      UPL
##    0 12.20184
ellipseChart(q, show.id = TRUE)</a></code></pre>
<p><img src="qcc_files/figure-html/unnamed-chunk-29-2.png" width="90%" style="display: block; margin: auto;"></p>
<p>Individual observations data:</p>
<div class="sourceCode" id="cb60"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">boiler</span><span class="op">)</span>
<span class="op">(</span><span class="va">q</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mqcc.html">mqcc</a></span><span class="op">(</span><span class="va">boiler</span>, type <span class="op">=</span> <span class="st">"T2.single"</span>, confidence.level <span class="op">=</span> <span class="fl">0.999</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-30-1.png" width="90%" style="display: block; margin: auto;"></p>
<pre><code>## ── Multivariate Quality Control Chart ──────────── 
## 
## Chart type                 = T2.single 
## Data (phase I)             = boiler 
## Number of groups           = 25 
## Group sample size          = 1 
## Center = 
##     t1     t2     t3     t4     t5     t6     t7     t8 
## 525.00 513.56 538.92 521.68 503.80 512.44 478.72 477.24 
## Covariance matrix = 
##            t1        t2        t3         t4         t5         t6         t7
## t1 54.0000000 0.9583333 20.583333 31.2916667 20.3333333 -2.2916667 20.3750000
## t2  0.9583333 4.8400000  2.963333  2.6866667  0.3250000  3.0766667  0.7050000
## t3 20.5833333 2.9633333 22.993333 10.0566667  4.9833333  2.0366667  6.4766667
## t4 31.2916667 2.6866667 10.056667 22.3100000 13.5583333 -2.2700000 12.6983333
## t5 20.3333333 0.3250000  4.983333 13.5583333 11.4166667 -1.6583333 10.6500000
## t6 -2.2916667 3.0766667  2.036667 -2.2700000 -1.6583333  4.5066667 -0.7466667
## t7 20.3750000 0.7050000  6.476667 12.6983333 10.6500000 -0.7466667 11.6266667
## t8  0.2083333 3.4433333  2.770000  0.1633333 -0.2833333  3.7233333  0.5283333
##            t8
## t1  0.2083333
## t2  3.4433333
## t3  2.7700000
## t4  0.1633333
## t5 -0.2833333
## t6  3.7233333
## t7  0.5283333
## t8  3.8566667
## |S| = 8313.241 
## 
## Control limits:
##  LCL      UCL
##    0 17.41705</code></pre>
<p>Generate new “in control” data:</p>
<div class="sourceCode" id="cb62"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">boilerNew</span> <span class="op">&lt;-</span> <span class="fu">MASS</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/MASS/man/mvrnorm.html">mvrnorm</a></span><span class="op">(</span><span class="fl">10</span>, mu <span class="op">=</span> <span class="va">q</span><span class="op">$</span><span class="va">center</span>, Sigma <span class="op">=</span> <span class="va">q</span><span class="op">$</span><span class="va">cov</span><span class="op">)</span>
<span class="fu"><a href="../reference/mqcc.html">mqcc</a></span><span class="op">(</span><span class="va">boiler</span>, type <span class="op">=</span> <span class="st">"T2.single"</span>, confidence.level <span class="op">=</span> <span class="fl">0.999</span>, 
     newdata <span class="op">=</span> <span class="va">boilerNew</span>, pred.limits <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-31-1.png" width="90%" style="display: block; margin: auto;"></p>
<pre><code>## ── Multivariate Quality Control Chart ──────────── 
## 
## Chart type                 = T2.single 
## Data (phase I)             = boiler 
## Number of groups           = 25 
## Group sample size          = 1 
## Center = 
##     t1     t2     t3     t4     t5     t6     t7     t8 
## 525.00 513.56 538.92 521.68 503.80 512.44 478.72 477.24 
## Covariance matrix = 
##            t1        t2        t3         t4         t5         t6         t7
## t1 54.0000000 0.9583333 20.583333 31.2916667 20.3333333 -2.2916667 20.3750000
## t2  0.9583333 4.8400000  2.963333  2.6866667  0.3250000  3.0766667  0.7050000
## t3 20.5833333 2.9633333 22.993333 10.0566667  4.9833333  2.0366667  6.4766667
## t4 31.2916667 2.6866667 10.056667 22.3100000 13.5583333 -2.2700000 12.6983333
## t5 20.3333333 0.3250000  4.983333 13.5583333 11.4166667 -1.6583333 10.6500000
## t6 -2.2916667 3.0766667  2.036667 -2.2700000 -1.6583333  4.5066667 -0.7466667
## t7 20.3750000 0.7050000  6.476667 12.6983333 10.6500000 -0.7466667 11.6266667
## t8  0.2083333 3.4433333  2.770000  0.1633333 -0.2833333  3.7233333  0.5283333
##            t8
## t1  0.2083333
## t2  3.4433333
## t3  2.7700000
## t4  0.1633333
## t5 -0.2833333
## t6  3.7233333
## t7  0.5283333
## t8  3.8566667
## |S| = 8313.241 
## 
## New data (phase II)        = boilerNew 
## Number of groups           = 10 
## Group sample size          = 1 
## 
## Control limits:
##  LCL      UCL
##    0 17.41705
## 
## Prediction limits:
##  LPL      UPL
##    0 70.02943</code></pre>
<p>Generate new “out of control” data:</p>
<div class="sourceCode" id="cb64"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">boilerNew</span> <span class="op">&lt;-</span> <span class="fu">MASS</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/MASS/man/mvrnorm.html">mvrnorm</a></span><span class="op">(</span><span class="fl">10</span>, mu <span class="op">=</span> <span class="fl">1.01</span><span class="op">*</span><span class="va">q</span><span class="op">$</span><span class="va">center</span>, Sigma <span class="op">=</span> <span class="va">q</span><span class="op">$</span><span class="va">cov</span><span class="op">)</span>
<span class="fu"><a href="../reference/mqcc.html">mqcc</a></span><span class="op">(</span><span class="va">boiler</span>, type <span class="op">=</span> <span class="st">"T2.single"</span>, confidence.level <span class="op">=</span> <span class="fl">0.999</span>, 
     newdata <span class="op">=</span> <span class="va">boilerNew</span>, pred.limits <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-32-1.png" width="90%" style="display: block; margin: auto;"></p>
<pre><code>## ── Multivariate Quality Control Chart ──────────── 
## 
## Chart type                 = T2.single 
## Data (phase I)             = boiler 
## Number of groups           = 25 
## Group sample size          = 1 
## Center = 
##     t1     t2     t3     t4     t5     t6     t7     t8 
## 525.00 513.56 538.92 521.68 503.80 512.44 478.72 477.24 
## Covariance matrix = 
##            t1        t2        t3         t4         t5         t6         t7
## t1 54.0000000 0.9583333 20.583333 31.2916667 20.3333333 -2.2916667 20.3750000
## t2  0.9583333 4.8400000  2.963333  2.6866667  0.3250000  3.0766667  0.7050000
## t3 20.5833333 2.9633333 22.993333 10.0566667  4.9833333  2.0366667  6.4766667
## t4 31.2916667 2.6866667 10.056667 22.3100000 13.5583333 -2.2700000 12.6983333
## t5 20.3333333 0.3250000  4.983333 13.5583333 11.4166667 -1.6583333 10.6500000
## t6 -2.2916667 3.0766667  2.036667 -2.2700000 -1.6583333  4.5066667 -0.7466667
## t7 20.3750000 0.7050000  6.476667 12.6983333 10.6500000 -0.7466667 11.6266667
## t8  0.2083333 3.4433333  2.770000  0.1633333 -0.2833333  3.7233333  0.5283333
##            t8
## t1  0.2083333
## t2  3.4433333
## t3  2.7700000
## t4  0.1633333
## t5 -0.2833333
## t6  3.7233333
## t7  0.5283333
## t8  3.8566667
## |S| = 8313.241 
## 
## New data (phase II)        = boilerNew 
## Number of groups           = 10 
## Group sample size          = 1 
## 
## Control limits:
##  LCL      UCL
##    0 17.41705
## 
## Prediction limits:
##  LPL      UPL
##    0 70.02943</code></pre>
<p>Recompute by providing “robust” estimates for the means and the covariance matrix:</p>
<div class="sourceCode" id="cb66"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">rob</span> <span class="op">&lt;-</span> <span class="fu">MASS</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/MASS/man/cov.rob.html">cov.rob</a></span><span class="op">(</span><span class="va">boiler</span><span class="op">)</span>
<span class="fu"><a href="../reference/mqcc.html">mqcc</a></span><span class="op">(</span><span class="va">boiler</span>, type <span class="op">=</span> <span class="st">"T2.single"</span>, center <span class="op">=</span> <span class="va">rob</span><span class="op">$</span><span class="va">center</span>, cov <span class="op">=</span> <span class="va">rob</span><span class="op">$</span><span class="va">cov</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-33-1.png" width="90%" style="display: block; margin: auto;"></p>
<pre><code>## ── Multivariate Quality Control Chart ──────────── 
## 
## Chart type                 = T2.single 
## Data (phase I)             = boiler 
## Number of groups           = 25 
## Group sample size          = 1 
## Center = 
##       t1       t2       t3       t4       t5       t6       t7       t8 
## 526.0455 513.4545 540.2273 521.7727 503.9091 512.5909 479.0000 477.3636 
## Covariance matrix = 
##           t1        t2         t3         t4         t5         t6         t7
## t1 34.045455 2.7878788 12.3701299 25.7251082 16.2900433 -4.5043290 14.2857143
## t2  2.787879 5.2121212  4.9870130  3.4891775  0.8051948  3.5281385  1.4761905
## t3 12.370130 4.9870130 10.3744589 10.9112554  4.4978355  0.9545455  4.1428571
## t4 25.725108 3.4891775 10.9112554 20.7554113 12.4069264 -3.0021645 11.0476190
## t5 16.290043 0.8051948  4.4978355 12.4069264 10.9437229 -2.1341991  9.7142857
## t6 -4.504329 3.5281385  0.9545455 -3.0021645 -2.1341991  4.8246753 -1.2857143
## t7 14.285714 1.4761905  4.1428571 11.0476190  9.7142857 -1.2857143 10.1904762
## t8 -1.398268 3.9220779  2.1038961 -0.1991342 -0.5367965  3.9653680  0.2380952
##            t8
## t1 -1.3982684
## t2  3.9220779
## t3  2.1038961
## t4 -0.1991342
## t5 -0.5367965
## t6  3.9653680
## t7  0.2380952
## t8  4.1471861
## |S| = 316.2932 
## 
## Control limits:
##  LCL      UCL
##    0 14.26225</code></pre>
</div>
<div id="pareto-chart" class="section level1">
<h1 class="hasAnchor">
<a href="#pareto-chart" class="anchor"></a>Pareto chart</h1>
<div class="sourceCode" id="cb68"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">defect</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">80</span>, <span class="fl">27</span>, <span class="fl">66</span>, <span class="fl">94</span>, <span class="fl">33</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">defect</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"price code"</span>, <span class="st">"schedule date"</span>, <span class="st">"supplier code"</span>, <span class="st">"contact num."</span>, <span class="st">"part num."</span><span class="op">)</span>
<span class="op">(</span><span class="va">pc</span> <span class="op">=</span> <span class="fu"><a href="../reference/paretoChart.html">paretoChart</a></span><span class="op">(</span><span class="va">defect</span>, ylab <span class="op">=</span> <span class="st">"Error frequency"</span><span class="op">)</span><span class="op">)</span>
<span class="co">## ── Pareto Chart ────────────────────────────────── </span>
<span class="co">##                </span>
<span class="co">## defect          Frequency Cum.Freq. Percentage Cum.Percent.</span>
<span class="co">##   contact num.         94        94      31.33        31.33</span>
<span class="co">##   price code           80       174      26.67        58.00</span>
<span class="co">##   supplier code        66       240      22.00        80.00</span>
<span class="co">##   part num.            33       273      11.00        91.00</span>
<span class="co">##   schedule date        27       300       9.00       100.00</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">pc</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-34-1.png" width="90%" style="display: block; margin: auto;"></p>
</div>
<div id="cause-and-effect-diagram" class="section level1">
<h1 class="hasAnchor">
<a href="#cause-and-effect-diagram" class="anchor"></a>Cause and effect diagram</h1>
<div class="sourceCode" id="cb69"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/causeEffectDiagram.html">causeEffectDiagram</a></span><span class="op">(</span>cause <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>Measurements <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Micrometers"</span>, 
                                                 <span class="st">"Microscopes"</span>, 
                                                 <span class="st">"Inspectors"</span><span class="op">)</span>,
                                Materials <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Alloys"</span>, 
                                              <span class="st">"Lubricants"</span>, 
                                              <span class="st">"Suppliers"</span><span class="op">)</span>,
                                Personnel <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Shifts"</span>, 
                                              <span class="st">"Supervisors"</span>, 
                                              <span class="st">"Training"</span>, 
                                              <span class="st">"Operators"</span><span class="op">)</span>,
                                Environment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Condensation"</span>, 
                                                <span class="st">"Moisture"</span><span class="op">)</span>,
                                Methods <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Brake"</span>,
                                            <span class="st">"Engager"</span>, 
                                            <span class="st">"Angle"</span><span class="op">)</span>,
                                Machines <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Speed"</span>, 
                                             <span class="st">"Lathes"</span>, 
                                             <span class="st">"Bits"</span>, 
                                             <span class="st">"Sockets"</span><span class="op">)</span><span class="op">)</span>,
                   effect <span class="op">=</span> <span class="st">"Surface Flaws"</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-35-1.png" width="90%" style="display: block; margin: auto;"></p>
</div>
<div id="process-variation-examples" class="section level1">
<h1 class="hasAnchor">
<a href="#process-variation-examples" class="anchor"></a>Process variation examples</h1>
<p>In the following simulated data are used to describe some models for process variation. For further details see Wetherill, G.B. and Brown, D.W. (1991) <em>Statistical Process Control</em>, New York, Chapman and Hall, Chapter 3.</p>
<div id="simple-random-variation" class="section level2">
<h2 class="hasAnchor">
<a href="#simple-random-variation" class="anchor"></a>Simple random variation</h2>
<p><span class="math inline">\(x_{ij} = \mu + \sigma_W \epsilon_{ij}\)</span></p>
<div class="sourceCode" id="cb70"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mu</span> <span class="op">&lt;-</span> <span class="fl">100</span>
<span class="va">sigma_W</span> <span class="op">&lt;-</span> <span class="fl">10</span>
<span class="va">epsilon</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">500</span><span class="op">)</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="va">mu</span> <span class="op">+</span> <span class="va">sigma_W</span><span class="op">*</span><span class="va">epsilon</span>, ncol <span class="op">=</span> <span class="fl">10</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"xbar"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-37-1.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb71"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"R"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-37-2.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb72"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"S"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-37-3.png" width="90%" style="display: block; margin: auto;"></p>
</div>
<div id="between-and-within-sample-extra-variation" class="section level2">
<h2 class="hasAnchor">
<a href="#between-and-within-sample-extra-variation" class="anchor"></a>Between and within sample extra variation</h2>
<p><span class="math inline">\(x_{ij} = \mu + \sigma_B u_i + \sigma_W \epsilon_{ij}\)</span></p>
<div class="sourceCode" id="cb73"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mu</span> <span class="op">&lt;-</span> <span class="fl">100</span>
<span class="va">sigma_W</span> <span class="op">&lt;-</span> <span class="fl">10</span>
<span class="va">sigma_B</span> <span class="op">&lt;-</span> <span class="fl">5</span>
<span class="va">epsilon</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">500</span><span class="op">)</span>
<span class="va">u</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html">as.vector</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">50</span><span class="op">)</span>, <span class="va">rep</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="va">mu</span> <span class="op">+</span> <span class="va">sigma_B</span><span class="op">*</span><span class="va">u</span> <span class="op">+</span> <span class="va">sigma_W</span><span class="op">*</span><span class="va">epsilon</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="va">x</span>, ncol <span class="op">=</span> <span class="fl">10</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"xbar"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-38-1.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb74"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"R"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-38-2.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb75"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"S"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-38-3.png" width="90%" style="display: block; margin: auto;"></p>
</div>
<div id="autocorrelation" class="section level2">
<h2 class="hasAnchor">
<a href="#autocorrelation" class="anchor"></a>Autocorrelation</h2>
<p><span class="math inline">\(x_{ij} = \mu + W_i + \sigma_W \epsilon_{ij}\)</span><br>
where <span class="math inline">\(W_i = \rho W_{i-1} + \sigma_B u_i = \sigma_B u_i + \rho \sigma_B u_{i-1} + \rho^2 \sigma_B u_{i-2} + \ldots\)</span>,<br>
and <span class="math inline">\(W_0 = 0\)</span>.</p>
<div class="sourceCode" id="cb76"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mu</span> <span class="op">&lt;-</span> <span class="fl">100</span>
<span class="va">rho</span> <span class="op">&lt;-</span> <span class="fl">0.9</span>
<span class="va">sigma_W</span> <span class="op">&lt;-</span> <span class="fl">10</span>
<span class="va">sigma_B</span> <span class="op">&lt;-</span> <span class="fl">5</span>
<span class="va">epsilon</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">500</span><span class="op">)</span>
<span class="va">u</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">500</span><span class="op">)</span>
<span class="va">W</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">100</span><span class="op">)</span>
<span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">2</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">W</span><span class="op">)</span><span class="op">)</span>
  <span class="va">W</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">rho</span><span class="op">*</span><span class="va">W</span><span class="op">[</span><span class="va">i</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span> <span class="op">+</span> <span class="va">sigma_B</span><span class="op">*</span><span class="va">u</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="va">mu</span> <span class="op">+</span> <span class="va">sigma_B</span><span class="op">*</span><span class="va">u</span> <span class="op">+</span> <span class="va">sigma_W</span><span class="op">*</span><span class="va">epsilon</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="va">x</span>, ncol <span class="op">=</span> <span class="fl">10</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"xbar"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-39-1.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb77"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"R"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-39-2.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb78"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"S"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-39-3.png" width="90%" style="display: block; margin: auto;"></p>
</div>
<div id="recurring-cycles" class="section level2">
<h2 class="hasAnchor">
<a href="#recurring-cycles" class="anchor"></a>Recurring cycles</h2>
<p>Assume we have 3 working turns of 8 hours each for each working day, so <span class="math inline">\(8 \times 3 = 24\)</span> points in time, and at each point we sample 5 units.</p>
<p><span class="math inline">\(x_{ij} = \mu + W_i + \sigma_W \epsilon_{ij}\)</span><br>
where <span class="math inline">\(W_i\)</span> (<span class="math inline">\(i = 1,\ldots,8\)</span>) is the cycle.</p>
<div class="sourceCode" id="cb79"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mu</span> <span class="op">&lt;-</span> <span class="fl">100</span>
<span class="va">sigma_W</span> <span class="op">&lt;-</span> <span class="fl">10</span>
<span class="va">epsilon</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">120</span>, sd <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span>
<span class="va">W</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">4</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">2</span>, <span class="fl">0</span>, <span class="op">-</span><span class="fl">2</span><span class="op">)</span> <span class="co"># assumed workers cycle</span>
<span class="va">W</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="va">W</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">8</span><span class="op">)</span><span class="op">)</span>, <span class="fl">3</span><span class="op">)</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="va">mu</span> <span class="op">+</span> <span class="va">W</span> <span class="op">+</span> <span class="va">sigma_W</span><span class="op">*</span><span class="va">epsilon</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="va">x</span>, ncol <span class="op">=</span> <span class="fl">5</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"xbar"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-40-1.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb80"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"R"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-40-2.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb81"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"S"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-40-3.png" width="90%" style="display: block; margin: auto;"></p>
</div>
<div id="trends" class="section level2">
<h2 class="hasAnchor">
<a href="#trends" class="anchor"></a>Trends</h2>
<p><span class="math inline">\(x_{ij} = \mu + W_i + \sigma_W \epsilon_{ij}\)</span><br>
where <span class="math inline">\(W_i = 0.2 i\)</span></p>
<div class="sourceCode" id="cb82"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mu</span> <span class="op">&lt;-</span> <span class="fl">100</span>
<span class="va">sigma_W</span> <span class="op">&lt;-</span> <span class="fl">10</span>
<span class="va">epsilon</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">500</span><span class="op">)</span>
<span class="va">W</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">0.2</span><span class="op">*</span><span class="fl">1</span><span class="op">:</span><span class="fl">100</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">100</span><span class="op">)</span><span class="op">)</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="va">mu</span> <span class="op">+</span> <span class="va">W</span> <span class="op">+</span> <span class="va">sigma_W</span><span class="op">*</span><span class="va">epsilon</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="va">x</span>, ncol <span class="op">=</span> <span class="fl">10</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"xbar"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-41-1.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb83"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"R"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-41-2.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb84"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"S"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-41-3.png" width="90%" style="display: block; margin: auto;"></p>
</div>
<div id="mixture" class="section level2">
<h2 class="hasAnchor">
<a href="#mixture" class="anchor"></a>Mixture</h2>
<p><span class="math inline">\(x_{ij} = \mu_1 p + \mu_2 (1-p) + \sigma_W \epsilon_{ij}\)</span><br>
where <span class="math inline">\(p = \Pr(\text{Process #1})\)</span>.</p>
<div class="sourceCode" id="cb85"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mu1</span> <span class="op">&lt;-</span> <span class="fl">90</span>
<span class="va">mu2</span> <span class="op">&lt;-</span> <span class="fl">110</span>
<span class="va">sigma_W</span> <span class="op">&lt;-</span> <span class="fl">10</span>
<span class="va">epsilon</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">500</span><span class="op">)</span>
<span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">1</span>, <span class="fl">0.5</span><span class="op">)</span>
<span class="va">mu</span> <span class="op">&lt;-</span> <span class="va">mu1</span><span class="op">*</span><span class="va">p</span> <span class="op">+</span> <span class="va">mu2</span><span class="op">*</span><span class="op">(</span><span class="fl">1</span><span class="op">-</span><span class="va">p</span><span class="op">)</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="va">mu</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">mu</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="va">sigma_W</span><span class="op">*</span><span class="va">epsilon</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="va">x</span>, ncol <span class="op">=</span> <span class="fl">10</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"xbar"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-42-1.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb86"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"R"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-42-2.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb87"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"S"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-42-3.png" width="90%" style="display: block; margin: auto;"></p>
</div>
<div id="sudden-jumps" class="section level2">
<h2 class="hasAnchor">
<a href="#sudden-jumps" class="anchor"></a>Sudden jumps</h2>
<p><span class="math inline">\(x_{ij} = \mu_i + \sigma_W \epsilon_{ij}\)</span><br>
where <span class="math inline">\(\mu_i\)</span> is the mean of the process for state <span class="math inline">\(i\)</span> (<span class="math inline">\(i = 1,\ldots,k)\)</span>.</p>
<div class="sourceCode" id="cb88"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mu</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">95</span>,<span class="fl">110</span>,<span class="fl">100</span>,<span class="fl">90</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">20</span>,<span class="fl">35</span>,<span class="fl">25</span>,<span class="fl">20</span><span class="op">)</span><span class="op">)</span>
<span class="va">sigma_W</span> <span class="op">&lt;-</span> <span class="fl">10</span>
<span class="va">epsilon</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">500</span><span class="op">)</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="va">mu</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">mu</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="va">sigma_W</span><span class="op">*</span><span class="va">epsilon</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="va">x</span>, ncol <span class="op">=</span> <span class="fl">10</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"xbar"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-43-1.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb89"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"R"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-43-2.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb90"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/qcc.html">qcc</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="st">"S"</span>, rules <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="qcc_files/figure-html/unnamed-chunk-43-3.png" width="90%" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="references" class="section level1">
<h1 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h1>
<p>Montgomery, D.C. (2013) <em>Introduction to Statistical Quality Control</em>, 7th ed. New York: John Wiley &amp; Sons.</p>
<p>Ryan, T. P. (2011), <em>Statistical Methods for Quality Improvement</em>, 3rd ed. New York: John Wiley &amp; Sons.</p>
<p>Scrucca, L. (2004) <a href="http://www.stat.unipg.it/luca/misc/Rnews_2004-1-pag11-17.pdf">qcc: an R package for quality control charting and statistical process control</a>. <em>R News</em> 4/1, 11-17.</p>
<hr>
<div class="sourceCode" id="cb91"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html">sessionInfo</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">## R version 4.0.3 (2020-10-10)</span>
<span class="co">## Platform: x86_64-apple-darwin17.0 (64-bit)</span>
<span class="co">## Running under: macOS Big Sur 10.16</span>
<span class="co">## </span>
<span class="co">## Matrix products: default</span>
<span class="co">## BLAS:   /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRblas.dylib</span>
<span class="co">## LAPACK: /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRlapack.dylib</span>
<span class="co">## </span>
<span class="co">## locale:</span>
<span class="co">## [1] en_GB.UTF-8/en_GB.UTF-8/en_GB.UTF-8/C/en_GB.UTF-8/en_GB.UTF-8</span>
<span class="co">## </span>
<span class="co">## attached base packages:</span>
<span class="co">## [1] stats     graphics  grDevices utils     datasets  methods   base     </span>
<span class="co">## </span>
<span class="co">## other attached packages:</span>
<span class="co">## [1] qcc_3.0       ggplot2_3.3.3 knitr_1.31   </span>
<span class="co">## </span>
<span class="co">## loaded via a namespace (and not attached):</span>
<span class="co">##  [1] highr_0.8         bslib_0.2.4       compiler_4.0.3    pillar_1.5.1     </span>
<span class="co">##  [5] jquerylib_0.1.3   tools_4.0.3       digest_0.6.27     jsonlite_1.7.2   </span>
<span class="co">##  [9] evaluate_0.14     memoise_2.0.0     lifecycle_1.0.0   tibble_3.1.0     </span>
<span class="co">## [13] gtable_0.3.0      debugme_1.1.0     pkgconfig_2.0.3   rlang_0.4.10     </span>
<span class="co">## [17] rstudioapi_0.13   cli_2.4.0         DBI_1.1.1         yaml_2.2.1       </span>
<span class="co">## [21] pkgdown_1.6.1     xfun_0.22         fastmap_1.1.0     gridExtra_2.3    </span>
<span class="co">## [25] withr_2.4.1       stringr_1.4.0     dplyr_1.0.5       generics_0.1.0   </span>
<span class="co">## [29] desc_1.3.0        fs_1.5.0          sass_0.3.1        vctrs_0.3.7      </span>
<span class="co">## [33] tidyselect_1.1.0  rprojroot_2.0.2   grid_4.0.3        glue_1.4.2       </span>
<span class="co">## [37] R6_2.5.0          fansi_0.4.2       rmarkdown_2.7     farver_2.1.0     </span>
<span class="co">## [41] purrr_0.3.4       magrittr_2.0.1    MASS_7.3-53.1     scales_1.1.1     </span>
<span class="co">## [45] htmltools_0.5.1.1 ellipsis_0.3.1    assertthat_0.2.1  colorspace_2.0-0 </span>
<span class="co">## [49] labeling_0.4.2    utf8_1.2.1        stringi_1.5.3     munsell_0.5.0    </span>
<span class="co">## [53] cachem_1.0.4      crayon_1.4.1</span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="http://www.stat.unipg.it/luca">Luca Scrucca</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
